import { useMemo, useCallback } from 'react'
import { useChatStore } from '@/stores/chatStore'

const QUICK_QUESTIONS = [
  // 기술 & 성능
  '현재 가장 큰 기술적 병목은 무엇인가요?',
  '성능 최적화 현황을 요약해주세요.',
  '현재 프레임률 이슈가 있는 구간은?',
  '메모리 사용량이 목표 범위 안에 있나요?',
  '빌드 파이프라인에 문제가 있나요?',
  '기술 부채 중 당장 해결해야 할 항목은?',
  '크래시 리포트에서 반복되는 패턴이 있나요?',
  '외부 미들웨어나 SDK 연동 이슈가 있나요?',
  '로딩 시간을 줄일 수 있는 방법은?',
  '드로우콜 최적화 여지가 있는 곳은?',
  '셰이더 컴파일 히치가 발생하는 구간이 있나요?',
  '물리 시뮬레이션 성능에 이상 징후는 없나요?',
  '네트워크 레이턴시 이슈가 플레이에 영향을 주나요?',
  '에디터 빌드 시간이 너무 길어진 원인은?',
  '프로파일러 결과에서 핫스팟은 어디인가요?',

  // QA & 버그
  '현재 미해결 버그 중 우선순위가 높은 것은?',
  'QA에서 최근 발견된 핵심 이슈는?',
  '재현 빈도가 높은 버그 유형은 무엇인가요?',
  '회귀 테스트 커버리지가 부족한 영역은?',
  '플랫폼별 특이 버그가 발생하고 있나요?',
  '엣지 케이스 처리가 미흡한 시스템이 있나요?',

  // 게임플레이 & 디자인
  '게임플레이 밸런스에서 조정이 필요한 부분은?',
  '레벨 디자인에서 개선이 필요한 부분은?',
  '플레이어 온보딩 경험을 어떻게 개선할까요?',
  '게임 내 경제 시스템에 밸런스 문제가 있나요?',
  '적 AI 행동 패턴이 의도대로 작동하나요?',
  '난이도 곡선이 의도한 대로 느껴지나요?',
  '플레이어가 막히는 구간이 있나요?',
  '핵심 게임 루프가 충분히 재미있나요?',
  '보상 시스템이 플레이어 동기를 잘 유지하나요?',
  '조작감(컨트롤)에 대한 피드백은 어떤가요?',
  '카메라 동작이 불편하다는 피드백이 있나요?',
  '스킬/아이템 간 시너지가 잘 설계되어 있나요?',
  '튜토리얼이 핵심 메카닉을 충분히 가르쳐주나요?',
  '게임 세션 길이가 적절한가요?',

  // 아트 & 비주얼
  '아트 방향성에 대한 최신 피드백은?',
  '캐릭터 애니메이션 퀄리티 현황은?',
  '컷씬 또는 연출에서 개선할 점은?',
  '환경 아트의 디테일 수준이 목표에 맞나요?',
  'VFX가 게임플레이 피드백을 잘 전달하나요?',
  '라이팅이 분위기를 잘 살리고 있나요?',
  'UI 비주얼이 전체 아트 스타일과 일치하나요?',
  '컬러 팔레트가 플랫폼 화면에서 잘 보이나요?',

  // UI/UX
  'UI/UX에서 혼란스럽다는 피드백이 있나요?',
  '접근성(accessibility) 기능은 준비됐나요?',
  'HUD 정보량이 너무 많거나 적지는 않나요?',
  '인벤토리/메뉴 탐색이 직관적인가요?',
  '폰트 가독성이 모든 해상도에서 괜찮은가요?',
  '컨트롤러와 키보드 UI 경험이 동등한가요?',

  // 사운드 & 음악
  '사운드 디자인 방향성은 잘 맞춰지고 있나요?',
  '효과음이 행동과 잘 동기화되어 있나요?',
  'BGM이 게임 분위기를 잘 지원하나요?',
  '음향 믹싱 밸런스에 문제가 있나요?',
  '보이스 오버 녹음 진행 상황은?',

  // 내러티브 & 스토리
  '내러티브 일관성에 문제가 있나요?',
  '다이얼로그 톤이 캐릭터 개성과 맞나요?',
  '스토리 페이싱이 플레이어를 잘 끌어가나요?',
  '월드 빌딩 디테일이 충분히 전달되나요?',
  '엔딩이 플레이어 기대에 부응할 것 같나요?',

  // 프로젝트 관리
  '이번 마일스톤의 우선순위를 정리해주세요.',
  '팀 간 정렬이 안 된 이슈가 있나요?',
  '최근 팀 회의에서 나온 주요 결정사항은?',
  '리소스(시간·인력) 부족으로 지연되는 작업은?',
  '다음 스프린트에서 집중해야 할 영역은?',
  '현재 가장 리스크가 높은 개발 항목은?',
  '현재 스코프에서 잘라낼 수 있는 기능이 있나요?',
  '출시 전 체크리스트에서 빠진 항목이 있나요?',
  '팀원 간 코드 리뷰 프로세스는 잘 돌아가고 있나요?',
  '마일스톤 일정이 현실적으로 달성 가능한가요?',
  '외주 또는 협력사와의 커뮤니케이션은 원활한가요?',
  '이번 주 블로커(blocker)가 된 이슈는?',

  // 플레이어 & 데이터
  '플레이어 피드백 중 반복되는 불만은?',
  '데이터 분석 지표 중 눈에 띄는 이상치는?',
  '유저 리텐션에 영향을 주는 요소가 뭔가요?',
  '플레이어가 가장 많이 이탈하는 지점은?',
  'A/B 테스트 결과에서 나온 인사이트는?',
  '플레이테스트 세션에서 공통된 반응은?',
  '리뷰/평점 트렌드에 변화가 있나요?',

  // 멀티플레이어 & 서버
  '멀티플레이어 동기화 이슈가 보고됐나요?',
  '서버 안정성 및 업타임 현황은?',
  '핵/치트 방지 시스템이 효과적으로 작동하나요?',
  '매치메이킹 품질에 대한 피드백은?',
  '동접자 급증 시 서버 스케일링 준비는 됐나요?',

  // 출시 & 마케팅
  '스토어 페이지·마케팅 자료 준비 상황은?',
  '플랫폼 인증(TRC/TCR) 대응 준비는 됐나요?',
  '로컬라이제이션 작업 진행 상황은?',
  '출시 타이밍 전략에 변경사항이 있나요?',
  '프레스 키트 및 미디어 대응 자료는 준비됐나요?',
  '패치 노트 작성 및 커뮤니티 공지 계획은?',

  // 혁신 & 개선
  '프로토타입 단계에서 검증이 필요한 아이디어는?',
  '현재 스테이지 중 가장 완성도가 낮은 곳은?',
  '경쟁 게임 대비 차별화 포인트가 명확한가요?',
  '플레이어가 오래 기억할 만한 순간이 있나요?',
  '현재 게임의 가장 강력한 훅(hook)은 무엇인가요?',
  '개발 워크플로우에서 자동화할 수 있는 작업은?',
  '다음 업데이트에서 가장 임팩트 있는 변화는?',

  // 기술 & 성능 (추가)
  'GPU 인스턴싱 활용이 가능한 오브젝트군이 있나요?',
  'LOD 전환 거리 설정이 최적화되어 있나요?',
  '오클루전 컬링이 제대로 작동하는 씬이 있나요?',
  '에셋 스트리밍 전략이 메모리 예산을 충족하나요?',
  'GC(가비지 컬렉션) 스파이크가 발생하는 구간이 있나요?',
  '쓰레드 활용률이 최적화되어 있나요?',
  '텍스처 압축 포맷이 타겟 플랫폼에 맞게 설정됐나요?',
  '런타임 셰이더 교체로 인한 히치가 있나요?',
  '피직스 레이어 설정에서 불필요한 충돌 체크가 있나요?',
  '파티클 시스템 최대 파티클 수 예산이 지켜지고 있나요?',
  '애니메이션 컴프레션 설정이 최적화됐나요?',
  '오디오 스트리밍 vs 사전 로드 분류가 올바른가요?',
  '내비게이션 메시 업데이트 비용이 과도하지 않나요?',
  '씬 전환 시 로딩 스파이크를 줄일 방법이 있나요?',
  '지속적으로 할당·해제를 반복하는 오브젝트 풀이 필요한 곳은?',

  // QA & 버그 (추가)
  '자동화 테스트로 커버되지 않는 핵심 플로우가 있나요?',
  '동일 버그가 여러 플랫폼에서 다르게 재현되나요?',
  '세이브/로드 시 발생하는 상태 불일치 버그가 있나요?',
  '멀티 모니터 또는 비표준 해상도에서 레이아웃 이슈가 있나요?',
  '버그 재현을 위한 디버그 치트 코드가 충분히 갖춰져 있나요?',
  '스트레스 테스트(장시간 플레이) 결과에서 나온 이슈는?',
  '버그 트래킹 시스템에서 가장 오래된 미해결 이슈는?',
  '퍼블리싱 파트너에서 요구한 필수 수정 항목이 있나요?',
  '크래시 없이도 게임 경험을 망치는 소프트 버그가 있나요?',
  '테스트 빌드와 릴리즈 빌드 동작이 다른 부분이 있나요?',

  // 게임플레이 & 디자인 (추가)
  '죽음/실패 상황이 좌절감보다 동기부여로 느껴지나요?',
  '플레이어 선택이 실질적인 결과를 만들어내나요?',
  '스킬 천장(skill ceiling)과 바닥(skill floor) 간격이 적절한가요?',
  '핵심 동사(jump, attack, dodge)의 피드백이 명확한가요?',
  '게임 내 목표가 항상 플레이어에게 명확하게 제시되나요?',
  '반복 플레이 시 신선함을 유지하는 요소가 있나요?',
  '소셜 플레이나 공유 요소가 바이럴을 유도할 수 있나요?',
  '세이브 포인트 빈도가 좌절감 없이 적절히 배치됐나요?',
  '보스 전투가 학습 → 숙달 → 보상 구조를 따르나요?',
  '오픈월드라면 탐험 동기가 충분히 부여되나요?',
  '퍼즐 난이도가 논리적으로 에스컬레이션되나요?',
  '비폭력적 플레이 스타일도 지원하나요?',
  '시스템 간 창발적 상호작용이 의도적으로 설계됐나요?',
  '플레이어가 자신만의 스타일을 표현할 수 있는 여지가 있나요?',
  '게임 속도(pace) 조절 구간이 충분히 분배됐나요?',
  '협동 플레이 시 기여감이 모든 플레이어에게 공평한가요?',
  '콘텐츠 볼륨 대비 가격 설정이 적절한가요?',
  '다회차 플레이를 유도하는 요소가 있나요?',
  '플레이어가 실수로 삭제·소비할 수 있는 불가역 요소가 있나요?',
  '패드 진동(햅틱 피드백) 연출이 적절히 활용되나요?',

  // 아트 & 비주얼 (추가)
  '컨셉 아트와 최종 인게임 비주얼의 갭이 크지 않나요?',
  '캐릭터 실루엣이 멀리서도 구분 가능한가요?',
  'PBR 머티리얼 설정이 일관된 라이팅 반응을 보이나요?',
  '파티클 이펙트가 퍼포먼스 예산 안에서 충분히 화려한가요?',
  '색수차·비네팅 등 포스트프로세스 강도가 과하지 않나요?',
  '캐릭터 얼굴 애니메이션 표현력이 충분한가요?',
  '스타일라이즈드와 리얼리스틱 사이 방향성이 팀 전체에 공유됐나요?',
  '에셋 명명 규칙과 폴더 구조가 일관되게 유지되나요?',
  '환경 디자인이 게임 내러티브를 자연스럽게 전달하나요?',
  '낮/밤 또는 날씨 변화가 게임플레이 가독성을 해치지 않나요?',
  '적 캐릭터와 플레이어 캐릭터의 시각적 대비가 충분한가요?',
  '아이콘 디자인이 기능을 직관적으로 전달하나요?',
  '스플래시 스크린과 메인 메뉴 첫인상이 강렬한가요?',
  '아트 에셋 버전 관리와 리뷰 프로세스가 확립됐나요?',
  '컬러블라인드 모드에서 UI와 게임플레이 정보가 구분되나요?',

  // UI/UX (추가)
  '첫 실행 경험(FTUE)에서 플레이어가 혼란을 느끼는 지점은?',
  '튜토리얼을 건너뛸 수 있는 옵션이 있나요?',
  '상점·인벤토리 등 반복 사용 UI의 클릭 수가 최소화됐나요?',
  '게임 내 알림 시스템이 과도하게 방해적이지 않나요?',
  '플레이어가 돌아왔을 때 이전 상태를 빠르게 파악할 수 있나요?',
  '오류 메시지가 원인과 해결 방법을 명확히 안내하나요?',
  '설정 메뉴에서 그래픽/오디오 커스터마이징이 충분한가요?',
  '로딩 화면이 게임 세계에 몰입감을 유지하는 방식으로 활용되나요?',
  '컨트롤러 리맵핑이 지원되나요?',
  '자막/텍스트 크기 조절 옵션이 있나요?',

  // 사운드 & 음악 (추가)
  '발소리·환경음이 레벨 분위기를 효과적으로 강화하나요?',
  '긴장감 고조 구간에 음악이 자연스럽게 전환되나요?',
  '사운드 오클루전(장애물 차폐음)이 구현됐나요?',
  '반복 재생되는 사운드에 랜덤 피치 변조가 적용됐나요?',
  'UI 클릭음이 전반적인 게임 톤과 어울리나요?',
  '대화 중 배경 음악 덕킹(ducking)이 적용됐나요?',
  '음악 없이 플레이해도 게임이 충분히 읽히나요?',
  '사운드 에셋 라이선스 검토가 완료됐나요?',
  '공간 오디오(3D sound) 범위 설정이 자연스럽나요?',
  '사운드 엔지니어와 게임플레이 팀 간 커뮤니케이션은 원활한가요?',

  // 내러티브 & 스토리 (추가)
  '주인공의 동기(motivation)가 플레이어에게 공감을 유발하나요?',
  '환경 스토리텔링(environmental storytelling)이 충분히 활용됐나요?',
  '선택지가 있다면 각 선택의 결과가 일관성 있게 반영되나요?',
  '서브 퀘스트가 메인 스토리와 주제적으로 연결되나요?',
  '캐릭터 성장 아크가 충분히 전달되나요?',
  '세계관 로어(lore)가 강요 없이 자연스럽게 전달되나요?',
  '반전이나 서프라이즈 요소가 충분히 복선이 깔려 있나요?',
  '다국어 로컬라이제이션 시 내러티브 뉘앙스가 보존되나요?',
  '장시간 컷씬이 플레이어의 통제감을 과도하게 빼앗지 않나요?',
  '스토리 스킵 옵션이 리플레이어에게 제공되나요?',

  // 레벨 디자인 심화
  '레벨 내 길 찾기(wayfinding)가 직관적으로 설계됐나요?',
  '레벨 흐름이 액션 → 긴장 해소 → 탐험 리듬을 유지하나요?',
  '첫 번째 레벨이 핵심 메카닉 전체를 소개하나요?',
  '보상 공간이 도전 공간 이후 충분히 배치됐나요?',
  '비밀 공간이나 숨겨진 루트가 탐험 욕구를 자극하나요?',
  '환경 장애물이 전투와 퍼즐에 공통으로 활용되나요?',
  '레벨 재방문 시 새로운 경험을 제공하는 요소가 있나요?',
  '레벨 스케일이 플레이어 캐릭터 크기 대비 적절한가요?',
  '막힌 경로와 열린 경로의 비율이 적절한가요?',
  '레벨 디자인 의도가 화이트박스 단계에서 충분히 검증됐나요?',
  '체크포인트 배치가 학습과 재도전 의지를 유지시키나요?',
  '멀티플레이어 맵이라면 팀 간 스폰 페어니스가 보장되나요?',

  // 시스템 설계 & 코드 아키텍처
  '데이터 드리븐 설계가 충분히 적용됐나요?',
  '게임 시스템 간 의존성이 과도하게 결합되어 있지 않나요?',
  '치트 방어와 게임 로직이 서버 권위(server-authoritative)로 분리됐나요?',
  '세이브 데이터 포맷이 향후 업데이트에도 하위 호환 가능한가요?',
  '이벤트 시스템이 시스템 간 결합도를 낮추는 데 활용되나요?',
  '게임 상태 머신 설계가 명확하게 문서화됐나요?',
  '전역 설정값이 중앙에서 관리되나요?',
  '에디터 툴이 기획자가 직접 조정할 수 있도록 충분히 노출됐나요?',
  '리플레이 또는 관전 기능 구현 시 결정론적 로직이 보장되나요?',
  '모듈화된 퀘스트/이벤트 시스템이 확장에 유리한 구조인가요?',

  // AI & NPC 설계
  'NPC AI가 플레이어에게 인지 가능한 패턴을 가지나요?',
  '보스 AI의 페이즈 전환이 명확한 시각 신호로 전달되나요?',
  '적 AI가 플레이어 전략에 적절히 반응하도록 설계됐나요?',
  'AI 난이도 조절이 동적으로 이루어지나요?',
  'NPC 이동 경로가 막히는 상황에 대한 폴백이 있나요?',
  '아군 AI가 플레이어를 방해하는 상황이 없나요?',
  'AI 행동이 플레이어에게 예측 가능하면서도 변화가 있나요?',
  '군중 AI(crowd AI)의 연산 비용이 예산 내에 있나요?',
  'AI 상태머신이 에디터에서 시각적으로 확인 가능한가요?',
  'NPC 대화 AI가 맥락을 잃지 않고 일관된 반응을 보이나요?',

  // 이코노미 & 수익화
  '하드 화폐와 소프트 화폐의 역할이 명확히 구분됐나요?',
  '광고 삽입 빈도가 플레이 경험을 과도하게 방해하지 않나요?',
  'DLC 또는 시즌 패스 콘텐츠가 기본 게임 경험을 분리하지 않나요?',
  '무과금 플레이어도 핵심 콘텐츠를 즐길 수 있나요?',
  '인게임 구매 유도 UX가 강압적이지 않나요?',
  '구독 모델이나 배틀패스 가성비가 플레이어에게 명확히 전달되나요?',
  '가격 책정이 지역별 구매력을 반영하나요?',
  '수익화 모델이 게임 장르와 타겟 유저층에 적합한가요?',
  '환불 정책과 결제 오류 대응 프로세스가 마련됐나요?',
  '라이브 서비스 이벤트 사이클이 플레이어 소진(burn-out) 없이 설계됐나요?',

  // 접근성 & 포용성
  '색약·색맹 플레이어를 위한 대안 색상 모드가 있나요?',
  '인지 부하를 줄이는 간소화 UI 모드가 있나요?',
  '텍스트 음성 변환(TTS) 또는 스크린 리더 지원이 있나요?',
  '한 손 플레이어를 위한 컨트롤 배치 옵션이 있나요?',
  '깜빡임 효과가 광과민성 발작 기준을 준수하나요?',
  '청각 장애 플레이어를 위한 시각 피드백 대체 수단이 있나요?',
  '이동 속도·자동 조준 등 보조 기능이 선택적으로 활성화되나요?',
  '텍스트 언어와 음성 언어를 독립적으로 설정할 수 있나요?',
  '스토리에서 다양한 배경의 캐릭터가 자연스럽게 표현되나요?',
  '문화적 고정관념을 강화하는 표현이 없는지 검토됐나요?',

  // 플랫폼 & 포팅
  '각 플랫폼의 성능 프로파일링이 독립적으로 진행됐나요?',
  '콘솔 인증 요구사항(TRC/TCR/LotCheck) 대응 목록이 정리됐나요?',
  '모바일 포팅 시 배터리 소모와 발열이 허용 범위 내인가요?',
  'PC 버전에서 울트라와이드·멀티모니터 해상도를 지원하나요?',
  '크로스 플레이 지원 시 플랫폼 간 밸런스 패리티가 유지되나요?',
  '클라우드 저장 동기화가 플랫폼별 제한사항을 충족하나요?',
  '스팀 덱 또는 핸드헬드 기기에서 최소 사양 테스트가 됐나요?',
  '플랫폼별 업적/트로피 시스템이 올바르게 연동됐나요?',
  '각 플랫폼 스토어 가이드라인의 연령 등급 요구사항을 충족하나요?',
  'HDR 지원 디바이스에서 톤 매핑 설정이 최적화됐나요?',

  // 프로젝트 관리 (추가)
  '팀 온보딩 문서가 최신 상태로 유지되나요?',
  '기술 문서와 설계 문서가 코드와 동기화되어 있나요?',
  '회고(retrospective) 결과가 실제 프로세스 개선으로 이어지고 있나요?',
  '크런치 발생 징후가 있는 팀원이 있나요?',
  '의사결정 권한이 명확하게 정의돼 있나요?',
  '프리프로덕션-프로덕션 경계가 명확히 설정됐나요?',
  '핵심 인력 이탈 대비 지식 공유가 이루어지고 있나요?',
  '인터널 알파/베타 일정이 최종 출시 일정과 현실적으로 연결되나요?',
  '라이브 운영 전환을 위한 팀 구조 재편이 계획됐나요?',
  '포스트모템 작성 계획이 있나요?',

  // 팀 문화 & 협업
  '아이디어 제안 채널이 직급과 무관하게 열려 있나요?',
  '팀 전체가 게임의 비전을 동일하게 이해하고 있나요?',
  '리드와 팀원 간 1:1 피드백 루프가 정기적으로 이루어지나요?',
  '다른 직군 간 업무 방식에 대한 상호 이해가 충분한가요?',
  '장거리 근무 또는 원격 팀의 협업 도구가 충분히 갖춰져 있나요?',
  '팀 내 의견 충돌을 건강하게 해결하는 프로세스가 있나요?',
  '성과에 대한 인정·보상이 공정하게 이루어지고 있나요?',
  '신규 팀원이 빠르게 기여할 수 있는 온보딩 경로가 있나요?',
  '팀의 번아웃 지표를 주기적으로 체크하고 있나요?',
  '게임 개발 외 학습·성장 기회가 팀원에게 제공되나요?',

  // 플레이어 & 데이터 (추가)
  '코호트 분석에서 특정 플레이어 그룹의 이탈 패턴이 보이나요?',
  '세션 시작 시 플레이어가 가장 먼저 하는 행동은 무엇인가요?',
  'FTUE 완료율이 목표치에 도달하고 있나요?',
  '인앱 구매 전환율 개선 여지가 있는 지점은?',
  '긍정 리뷰와 부정 리뷰의 핵심 키워드는 무엇인가요?',
  '플레이어 커뮤니티에서 자생적으로 만들어진 콘텐츠가 있나요?',
  '고래(whale) 유저와 일반 유저의 플레이 패턴 차이는?',
  '데이터 수집 항목이 개인정보 처리방침을 준수하나요?',
  '이벤트 기간 중 리텐션 향상 효과가 측정됐나요?',
  '플레이어 지원(CS) 티켓 중 반복되는 문의 유형은?',

  // 출시 & 마케팅 (추가)
  '소셜 미디어 채널별 타겟 오디언스 전략이 구분됐나요?',
  '스트리머·콘텐츠 크리에이터 협업 계획이 있나요?',
  '게임 트레일러가 핵심 훅을 15초 내에 전달하나요?',
  '얼리 액세스 또는 베타 신청 페이지가 준비됐나요?',
  '출시 당일 서버 부하 대응 계획이 수립됐나요?',
  '미디어 엠바고 해제 일정과 리뷰 빌드 배포 계획이 있나요?',
  '인플루언서 NDA 관리가 적절하게 이루어지고 있나요?',
  '게임 커뮤니티(디스코드·레딧)를 사전에 구축하고 있나요?',
  'GDC·PAX 등 게임 전시회 참가 계획이 있나요?',
  '출시 후 첫 48시간 소통 계획(핫픽스 대응, 공지)이 있나요?',
]

const BTN_STYLE: React.CSSProperties = {
  background: 'var(--color-bg-secondary)',
  color: 'var(--color-text-secondary)',
  border: '1px solid var(--color-border)',
}

export default function QuickQuestions() {
  const sendMessage = useChatStore(s => s.sendMessage)
  const question = useMemo(
    () => QUICK_QUESTIONS[Math.floor(Math.random() * QUICK_QUESTIONS.length)],
    []
  )
  const handleClick = useCallback(() => sendMessage(question), [sendMessage, question])

  return (
    <div className="flex justify-center" data-testid="quick-questions">
      <button
        onClick={handleClick}
        data-testid="quick-q-0"
        className="text-xs px-2.5 py-1 rounded-full transition-colors hover:opacity-80"
        style={BTN_STYLE}
      >
        {question}
      </button>
    </div>
  )
}
